import React, { useState, useEffect } from 'react';
import axios, { AxiosError } from 'axios';
import { socket } from '../../App';
import { useNavigate } from 'react-router-dom';
import './style.scss';
import GoogleAuthImage from '../../assets/googleAuth.png';
import { useCookies } from 'react-cookie';
import Default from '../../layouts/Default';

const Auth2FA = () => {
	
	// VARIABLES \\

	const [googleCode, setGoogleCode] = useState<string>('');

	// FUNCTION \\

	const handleGoogleAuth = (e: React.FormEvent) => {
		e.preventDefault();
		axios.post('http://localhost:3001/auth/google2FA',{
			displayName: googleCode,
		})
			.then(res => goToAuthPage())
			.catch(err => handleSignError(err))

	}

	return (
		<Default>
			<div className="createUserContent">
				<form>
					<input
						type="text"
						required
						placeholder='Enter your google code'
						value={googleCode}
						onChange={(e) => setGoogleCode(e.target.value)}
					/>
					<button onClick={handleGoogleAuth} className='login-btn'>
						<p>Submit</p>
						<img src={GoogleAuthImage} alt="google authentificator" className='g-auth-logo'></img>
					</button>
				</form>
			</div>
		</Default>
	);
}
